<h2 class="t-color-danger t-align-center">{{ config?.serviceName }} Service</h2>

<p>Help customers quickly find your page on the Internet.
  With a short link, customers won't have to see
  long URLs that take up a lot of space.</p>

@if (config !== undefined) {

  @if (model.url.length <= 0) {

    <div class="row mt-3"><b>Source</b></div>
    <div class="row">
      <input type="text"
             [(ngModel)]="model.source"
             class="col"
             placeholder="Enter the link you want to shorten">
    </div>
    <div class="row" *ngIf="config.captchaUse">
      <app-ya-captcha
        class="col"
        [clientKey]="config.captchaClientKey"
        (onCallback)="captchaCallback($event)"
      />
    </div>
    <div class="row">
      <button
        (click)="save()"
        class="btn col"
      >Reduce
      </button>
    </div>

  } @else {

    <div class="row mt-3"><b>Source</b></div>
    <div class="row">
      <input type="text" [ngModel]="model.source" class="col" readonly>
    </div>
    <div class="row mt-1"><b>Shorten</b></div>
    <div class="row">
      <input type="text" [ngModel]="model.url" class="col" readonly>
    </div>
    <div class="row mt-1 t-align-center">
      <button (click)="reset()" class="btn col-3">New Reduce</button>
    </div>

  }

  @if (err !== undefined && err.length > 0) {
    <div class="row">
      <div class="col bq bq-danger">{{ err }}</div>
    </div>
  }

} @else {
  Loading ...
}
